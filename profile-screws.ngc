; setting the profile screws
; for positioning the reed
;
   o<version> call                     ; display set version
   o<machine> call                     ; get x,y & z origin definitions
   o<model> call                       ; get model parameters

   G17      ; xy plane
   G54      ; coord system 1
   G40      ; compensation off
   G49      ; tool length comp off
   G80      ; canning cycle off
   G90      ; absolute mode
   G21      ; metric
   G61      ; exact mode

   G53 G0 Z0               ; safe hight
   ;
   ; parameters
   ;
   #<safe-z>        = 30

   M5                      ; stop spindle

   #<_req-tool> = 100       ; ball nose r = .5 mm
   o<change-tool> call     ; change tool and messure
   G10 L2 P1 X#<_px-origin> Y#<_py-origin> Z[#<_value>-#<_z-probe>+#<_pz-origin>]

   G0 X-[#241+[#5410/2]] Y#240 ; x/y values from reed
   G0 Z-.3
   (MSG, place reed against probe and front screw against reed)
   (MSG, hit resume or s button to continue)
   M0                         ; wait on resume button

   G0 Z#<safe-z>
   G0 X-[#241+[#5410/2]] Y[#<_reed-length>-#240] ; x/y values from reed
   G0 Z-.3
   (MSG, place reed against probe and back screw against reed)
   (MSG, hit resume or s button to continue)
   M0                         ; wait on resume button

   G53 G0 Z0
   M5                      ; stop spindle

   G53 G0 X0 Y0

   G54      ; coord system 1
   G90      ; absolute  distance
   G80      ; canning cycle off
   G40      ; compensation off
   G64      ; cancel exact mode
   M2       ; end of programm
